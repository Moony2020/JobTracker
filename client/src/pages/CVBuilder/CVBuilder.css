/* CV Builder - Main Styles */

/* Loading State */
.cv-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
  width: 100%;
  gap: 20px;
  background: var(--glass-bg);
  /* Use theme variable */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 20px;
  margin-top: 40px;
}

.cv-loading-spinner {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 4px solid var(--light-border);
  /* Use theme variable */
  border-top-color: var(--primary-color);
  animation: cv-spin 1s cubic-bezier(0.5, 0, 0.5, 1) infinite;
}

.cv-loading-text {
  color: var(--text-color);
  /* Use theme variable */
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  animation: cv-fade 1.5s ease-in-out infinite;
}

@keyframes cv-spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes cv-fade {

  0%,
  100% {
    opacity: 0.6;
  }

  50% {
    opacity: 1;
  }
}

/* Resume List Page Main Container */
.resume-list-container {
  max-width: 1280px;
  margin: 0 auto !important;
  padding: 40px;
  font-family: 'Inter', sans-serif;
  color: #1e293b;
}

.resume-list-header {
  margin-bottom: 40px;
  text-align: center;
}

.resume-list-header h1 {
  font-size: 2.5rem;
  color: #1e293b;
  margin-bottom: 12px;
}

.resume-list-header p {
  color: #64748b;
  font-size: 1.1rem;
}

.template-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  /* Re-enlarged for better density and visibility */
  gap: 30px;
  width: 100%;
  justify-content: flex-start;
}

/* Global grid rules separated above */

.template-card {
  background: white;
  border-radius: 0 0 12px 12px;
  /* Top corners sharp as requested */
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  cursor: pointer;
  transition: all 0.3s ease;
  border: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
  width: 100%;
  /* Flexible width within grid */
  min-width: 320px;
}

.template-card:hover {
  border-color: #3b82f6;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
}

/* Spacing below "Available Templates" */
.section-title-wrapper {
  margin-bottom: 24px;
}

/* Template Preview in List */
.template-preview-live {
  position: relative;
  height: 360px;
  /* Base height for 300px width */
  background: white;
  overflow: hidden;
  border-bottom: 1px solid #f1f5f9;
  display: flex !important;
  justify-content: center !important;
  align-items: flex-start !important;
}

.template-preview-wrapper {
  transform: scale(0.28) !important;
  transform-origin: top center !important;
  width: 794px !important;
  min-width: 794px !important;
  height: 1123px !important;
  pointer-events: none;
  background: white;
  margin-top: 0;
}

/* Overlay and Badge for List */
.template-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(30, 41, 59, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 10;
}

.template-card:hover .template-overlay {
  opacity: 1;
}

.premium-badge {
  position: absolute;
  top: 5px;
  right: 5px;
  background: #f59e0b;
  color: white;
  padding: 3px 7px;
  border-radius: 4px;
  font-size: 0.65rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 3px;
  z-index: 15;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
  animation: pro-pulse 2s infinite ease-in-out;
}

@keyframes pro-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
  }

  50% {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.6);
  }

  100% {
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
  }
}

.free-badge {
  position: absolute;
  top: 5px;
  right: 5px;
  background: #10b981;
  color: white;
  padding: 3px 7px;
  border-radius: 4px;
  font-size: 0.65rem;
  font-weight: 700;
  z-index: 15;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
  animation: free-pulse 2s infinite ease-in-out;
}

@keyframes free-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
  }

  50% {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.6);
  }

  100% {
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
  }
}

.template-info {
  padding: 16px;
  text-align: center;
  background: #f8fafc;
  /* Light silver background as requested */
  border-top: 1px solid #e2e8f0;
  /* Clear separation */
}

.template-info h3 {
  font-size: 1rem;
  margin: 0;
  color: #1e293b;
}

/* CV Builder - Main Page Wrapper */
.cv-builder-page {
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* CV Editor - Content-First Split Layout */
.cv-editor-design {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: #f8fafc;
  width: 100% !important;
  /* Safer than 100vw on mobile */
  position: relative;
  overflow-x: hidden !important;
  box-sizing: border-box !important;
}

@media (min-width: 1024px) {
  .cv-editor-design {
    width: 100% !important;
    /* Standard width */
    margin-left: 0 !important;
    /* No negative margin hack */
  }
}

@media (max-width: 787px) {
  .cv-editor-design {
    background: #cbd5e1 !important;
    /* FORCED GREY BACK TO MATCH PREVIEW */
  }
}

.cv-editor-design *,
.cv-editor-design *::before,
.cv-editor-design *::after {
  box-sizing: border-box !important;
}

/* Custom Thin Scrollbar for the whole editor context */
.cv-editor-design *::-webkit-scrollbar {
  width: 8px;
  /* Increased from 6px */
  height: 8px;
}

.cv-editor-design *::-webkit-scrollbar-track {
  background: transparent;
}

.cv-editor-design *::-webkit-scrollbar-thumb {
  background-color: #94a3b8;
  /* Darker for better visibility */
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: content-box;
}

.cv-editor-design *::-webkit-scrollbar-thumb:hover {
  background-color: #94a3b8;
}

/* Global Unified Header - Dark Theme */
.editor-global-header {
  height: 60px;
  background: #1e293b;
  border-bottom: 1px solid #334155;
  display: flex !important;
  justify-content: space-between;
  align-items: center;
  padding: 0 24px;
  flex-shrink: 0;
  z-index: 50;
  gap: 12px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 16px;
  flex: 1;
  min-width: 0;
}

.header-center-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.header-right {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.cv-title-display {
  display: flex;
  align-items: center;
  gap: 6px;
  max-width: 400px;
}

.title-label {
  color: #94a3b8;
  font-size: 0.9rem;
  white-space: nowrap;
}

.exit-editor-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: #94a3b8;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-left: 8px;
}

.exit-editor-btn:hover {
  background: #334155;
  color: white;
}

.editor-main-split {
  display: flex;
  flex: 1;
  overflow: hidden;
  height: calc(100vh - 60px);
}

/* Left side: Forms Sidebar */
.editor-sidebar-forms {
  /* Default/Base styles */
  background: white;
  border-right: none;
  /* Removed sidebar divider as requested */
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  padding: 40px 30px 30px 30px;
  /* Increased top padding to match preview alignment */
}

/* Mobile Sidebar Padding Override */
@media (max-width: 787px) {
  .editor-sidebar-forms {
    padding: 24px 12px 30px 12px !important;
  }
}

/* Edit Mode: Wide Sidebar */
@media (min-width: 787px) {
  .mode-content .editor-sidebar-forms {
    flex: 0 0 52%;
    min-width: 500px;
  }
}

/* Ensure preview centering in content mode (override legacy tablet scaling) */
.mode-content .preview-scroll-area {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: flex-start !important;
  padding: 0 !important; /* CRITICAL: Must be 0 to remove top/bottom grey gaps */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  background: #cbd5e1 !important;
}

.mode-content .preview-scaler {
  transform: none !important;
  width: 100% !important;
  height: auto !important;
  margin: 0 auto !important;
}

/* Design Mode: Wide Fixed Sidebar */
@media (min-width: 787px) {
  .mode-design .editor-sidebar-forms {
    flex: 0 0 450px !important;
    min-width: 450px !important;
    max-width: 450px !important;
    padding: 12px 15px;
    flex-shrink: 0 !important;
  }
}

.design-label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}


.forms-header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 40px;
}

.forms-header-top .left-actions {
  display: flex;
  gap: 16px;
  align-items: center;
}

.lang-select-compact {
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
  background: #f8fafc;
  font-size: 0.9rem;
  color: #475569;
}

.upload-btn-ghost {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: #6366f1;
  color: white;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  border: none;
  transition: opacity 0.2s;
}

.upload-btn-ghost:hover {
  opacity: 0.9;
}

/* Form Sections */
.form-section-card {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  margin-bottom: 24px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

/* Summary card needs overflow:visible so the popover can escape overflow:hidden */
.form-section-card:has(.summary-header-trigger) {
  overflow: visible;
}

.summary-header-trigger {
  padding: 20px 24px !important;
  display: flex !important;
  flex-wrap: nowrap !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 12px !important;
  width: 100% !important;
  position: relative !important; /* Popover anchor — full card width */
}

/* Right-side group: link + chevron always together */
.summary-right-group {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;         /* tight gap between link and arrow */
  margin-left: auto !important; /* push to far right */
  flex-shrink: 0 !important;
}

.summary-section-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #1e293b;
  display: inline-flex !important;
  align-items: center !important;
}

.summary-actions-responsive {
  display: flex !important;
  align-items: center !important;
  /* position:relative is on .summary-header-trigger for card-wide anchor */
}

.summary-actions-responsive .btn-examples-link {
  display: flex !important;
  align-items: center !important;
  gap: 6px !important;
  font-size: 10.5px !important; /* REDUCED SIZE AS REQUESTED */
  font-weight: 600 !important;
  color: #6366f1 !important;
  background: transparent !important;
  border: none !important;
  padding: 0 4px !important; /* Tighter padding */
  cursor: pointer !important;
  white-space: nowrap !important;
}

.summary-header-trigger > svg[data-lucide^="chevron"] {
  /* Chevron */
  color: #1e293b !important; /* Force darker color like others */
  flex-shrink: 0 !important;
}

/* Examples Popover - RESTORED PREMIUM STYLES */
.examples-popover {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  width: min(420px, calc(100% - 16px)); /* centered, tighter margins on mobile */
  max-height: 480px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.04);
  z-index: 1000;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  text-align: left !important;
}

.examples-popover-header {
  padding: 14px 16px;
  background: #ffffff;
  border-bottom: 1px solid #f1f5f9;
  display: flex;
  align-items: center;
  gap: 12px;
}

.examples-popover-header svg {
  color: #6366f1; /* Purple magnifying glass */
  flex-shrink: 0;
}

.examples-popover-header input {
  flex: 1;
  border: 1px solid #e2e8f0; /* Visible border like standard inputs */
  background: #f8fafc;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.9rem;
  outline: none;
  color: #1e293b;
  font-family: inherit;
  transition: border-color 0.2s;
}

.examples-popover-header input:focus {
  border-color: #6366f1;
}

.examples-popover-content {
  overflow-y: auto;
  padding: 10px 0;
  background: #ffffff;
}

.example-category {
  padding: 12px 16px 8px 16px;
}

.example-category h5 {
  font-size: 0.8rem;
  font-weight: 800;
  color: #475569;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 12px;
  text-align: left !important;
}

.example-item {
  padding: 14px 16px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  gap: 16px;
  margin: 0 12px 8px 12px; 
  align-items: flex-start;
  text-align: left !important;
  background: #f8fafc;
}

.example-item:hover {
  background: #f1f5f9;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.example-item-icon {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  background: #6366f1; /* PURPLE CIRCLE */
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white; /* WHITE PLUS */
  box-shadow: 0 4px 8px rgba(99, 102, 241, 0.3);
}

.example-item-text {
  font-size: 0.95rem;
  color: #334155;
  line-height: 1.6;
  text-align: left !important;
}

/* Reduce example text font on narrow viewports */
@media (max-width: 575px) {
  .example-item-text {
    font-size: 0.8rem !important;
    line-height: 1.5 !important;
  }
  .example-category h5 {
    font-size: 0.7rem !important;
  }
  .example-item {
    gap: 10px !important;
    padding: 10px 12px !important;
    margin: 0 4px 6px 4px !important; /* wider cards — less side margin */
  }
  .example-item-icon {
    width: 22px !important;
    height: 22px !important;
  }
}

/* Standardized Trigger Icons */
.section-trigger svg {
  flex-shrink: 0;
}

.summary-header-trigger svg[data-lucide="file-text"] {
  /* Perfect vertical centering */
  margin-top: 1px;
}

.section-trigger {
  width: 100%;
  padding: 20px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}

.section-trigger:hover {
  background: #f8fafc;
}

.section-title-box {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 1.1rem;
  font-weight: 600;
  color: #1e293b;
}

.section-content-inner {
  padding: 24px;
  border-top: 1px solid #f1f5f9;
  background: #ffffff;
}

/* Add Section Button */
.add-section-wrapper {
  margin-top: 20px;
  padding-bottom: 40px;
}

.btn-add-section {
  width: 100%;
  padding: 14px;
  background: #f1f5f9;
  border: 2px dashed #cbd5e1;
  border-radius: 12px;
  color: #64748b;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.btn-add-section:hover {
  background: #e2e8f0;
  border-color: #94a3b8;
  color: #475569;
}

/* Right side: Preview Pane */
.editor-preview-pane {
  flex: 1;
  background: #cbd5e1;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  /* Hide scrollbar on container, let child handle it or simple hidden */
}

/* Ensure only one scrollable area if content overflows */
.editor-preview-pane>* {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 transparent;
}



/* Category Grid Buttons */
.category-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

@media (max-width: 480px) {
  .category-grid {
    grid-template-columns: 1fr !important;
  }
}

.cat-btn-add {
  display: flex;
  align-items: center;
  gap: 10px;
  /* Space between icon and text */
  padding: 12px 16px;
  background: #f1f5f9;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  /* Slightly rounded corners */
  color: #334155;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  justify-content: flex-start;
  /* Left align icon and text */
  width: 100%;
}

.cat-btn-add:hover {
  background: white;
  border-color: #cbd5e1;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transform: translateY(-1px);
}

.cat-btn-add:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.cat-btn-add svg {
  color: #475569;
  flex-shrink: 0;
}

/* Design Header Sidebar */
.design-header-sidebar {
  padding: 10px 0 20px 0;
  margin-bottom: 20px;
  border-bottom: 1px solid #f1f5f9;
}

.design-header-sidebar h3 {
  margin: 12px 0 4px 0;
  font-size: 1.1rem;
  color: #1e293b;
}

.text-btn-back {
  background: transparent;
  color: #64748b;
  border: none;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 0;
  font-size: 0.9rem;
  transition: color 0.2s;
}

.text-btn-back:hover {
  color: #1e293b;
}

.preview-top-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 32px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  z-index: 1000;
}

.template-toggle-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: #4f46e5;
  color: white;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  border: none;
}

/* Edit Resume Button (White Text for Dark Header) */
.btn-edit-resume {
  background: transparent;
  color: white;
  padding: 0;
  border: none;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 0.95rem;
  transition: opacity 0.2s;
  height: auto;
}

.btn-edit-resume:hover {
  opacity: 0.8;
  background: transparent;
}

.preview-right-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.download-btn-red {
  background: #ef4444;
  color: white;
  border: none;
  padding: 8px 24px;
  border-radius: 6px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.exit-editor-btn {
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border: none;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
}

.exit-editor-btn:hover {
  background: rgba(239, 68, 68, 0.8);
  /* Red on hover */
  transform: rotate(90deg);
}

.preview-scroll-area {
  flex: 1;
  padding: 0 !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
  height: 100%;
}

/* Leave legacy .preview-scaler unused; live preview uses .preview-scaler-live */

.preview-page-viewport {
  margin-left: auto !important;
  margin-right: auto !important;
}

.resume-paper-canvas {
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Hide scrollbar for Chrome/Safari/Opera */
.preview-scroll-area::-webkit-scrollbar {
  display: none;
}



/* Success Page */
.success-page-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  /* Changed from center to push up */
  padding: 20px 20px 40px 20px;
  /* Reduced top padding significantly */
  text-align: center;
  min-height: auto;
  /* Remove fixed height which caused bottom gap */
  animation: success-fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.05) 0%, transparent 100%);
}

.success-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 700px;
  padding: 40px 40px;
  /* Adjusted padding */
  margin-top: 40px;
  /* Space from header */
}

@keyframes success-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.success-page-container h1 {
  font-size: clamp(2rem, 5vw, 3rem);
  /* Responsive scaling */
  font-weight: 800;
  margin-bottom: 16px;
  background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.success-icon-wrapper {
  width: clamp(80px, 10vw, 100px);
  /* Responsive scaling */
  height: clamp(80px, 10vw, 100px);
  background: rgba(16, 185, 129, 0.1);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #10b981;
  margin: 0 auto 30px auto;
  box-shadow: 0 0 40px rgba(16, 185, 129, 0.2);
}

.success-page-container p {
  color: #475569;
  font-size: clamp(1rem, 2vw, 1.25rem);
  /* Responsive scaling */
  max-width: 600px;
  line-height: 1.6;
  margin-bottom: 40px;
}

.success-actions {
  display: flex;
  gap: 20px;
  margin-bottom: 40px;
  flex-wrap: wrap;
  /* Allow wrapping on mobile */
  justify-content: center;
}

.btn-download-success {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 14px 32px;
  border-radius: 12px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
  border: none;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-download-success:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(99, 102, 241, 0.4);
}

.btn-back-success {
  background: white;
  color: #1e293b;
  padding: 14px 32px;
  border-radius: 12px;
  font-weight: 700;
  border: 1px solid #e2e8f0;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-back-success:hover {
  background: #f8fafc;
}

.success-footer-note {
  color: #94a3b8;
  font-size: 0.95rem;
}

/* Scaling container - Perfectly Calibrated per User Fixes */
/* Scaling container - Controlled by React Inline Styles now */
.preview-scaler {
  margin: 0 auto !important;
  /* transform-origin: top center !important;  <-- HANDLED BY REACT */
  transition: all 0.3s ease;
  flex-shrink: 0;
  display: block !important;
  /* transform: scale(0.52) !important;       <-- HANDLED BY REACT */
  height: auto !important;
  /* width: 419px !important;                 <-- HANDLED BY REACT */
  position: relative;
  overflow: visible !important;
  margin-bottom: 0px !important;
}

.resume-paper-canvas {
  width: 794px !important;
  min-height: 1050px;
  height: auto !important;
  background: white;
  display: flex;
  flex-direction: column;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  /* Slightly more premium shadow */
  position: relative;
  overflow: visible !important;
  flex-shrink: 0;
  border-radius: 2px;
}

/* Visual Page Breaks in Editor */
.resume-paper-canvas.show-page-breaks::after {
  content: "Page Break";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background-image: linear-gradient(to bottom, transparent 1049px, #6366f1 1049px, #6366f1 1051px, transparent 1051px);
  background-size: 100% 1050px;
  /* New height */
  z-index: 1000;
  font-size: 12px;
  color: #6366f1;
  text-align: right;
  padding-right: 20px;
  padding-top: 1032px;
  /* Just below the line */
  box-sizing: border-box;
  opacity: 0.4;
  font-family: sans-serif;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-weight: 700;
}

.resume-paper-canvas.no-page-break-overlay.show-page-breaks::after {
  display: none !important;
}

/* Medium-Small Floating Footer Pill */
.preview-footer-minimal {
  position: fixed !important;
  bottom: 16px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: center;
  padding: 4px 16px;
  background: rgba(30, 41, 59, 0.95);
  backdrop-filter: blur(8px);
  border-radius: 30px;
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  color: #f1f5f9;
  font-weight: 500;
  z-index: 10000;
  white-space: nowrap;
  width: fit-content;
  flex-shrink: 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  visibility: visible !important;
}

.preview-footer-minimal .status-saved-text span,
.preview-footer-minimal .pagination-text span {
  font-size: 0.8rem !important;
  /* RE-ENLARGED PILL FONT */
  line-height: normal;
}

.preview-footer-minimal .status-saved-text svg {
  width: 15px !important;
  /* SLIGHTLY BIGGER ICON */
  height: 15px !important;
}

.preview-footer-minimal:hover {
  background: rgba(15, 23, 42, 0.95);
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
  color: white;
}

.status-saved-text {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #10b981;
  font-size: 0.85rem;
}

.pagination-text {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.9rem;
}

.page-link-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.4rem;
  color: #64748b;
  padding: 0 5px;
  transition: color 0.2s;
}

.page-link-btn:hover {
  color: #1e293b;
}

/* Watermark Styles */
.resume-watermark {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-45deg);
  font-size: 120px;
  font-weight: 900;
  color: rgba(0, 0, 0, 0.05);
  /* Very light gray */
  pointer-events: none;
  z-index: 100;

  input[type="date"]::-webkit-calendar-picker-indicator,
  input[type="month"]::-webkit-calendar-picker-indicator {
    display: none !important;
    -webkit-appearance: none !important;
  }

  user-select: none;
}

/* Preview Footer Styles */
/* Legacy absolute footer removed */

.preview-footer-saved {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #10b981;
  font-size: 0.85rem;
  font-weight: 600;
}

.preview-page-indicator {
  display: flex;
  align-items: center;
  gap: 15px;
  color: #475569;
  font-size: 0.9rem;
  font-weight: 500;
}

.page-nav-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.5rem;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 5px;
  transition: color 0.2s;
}

.page-nav-btn:hover {
  color: #1e293b;
}

/* Overlap & Spacing Fixes */
.card-item-wrapper {
  position: relative;
  margin-bottom: 24px;
  padding: 16px;
  /* Reduced from 48px to reclaim space */
  border: 1px solid #f1f5f9;
  border-radius: 12px;
  transition: all 0.2s;
}

.dark-mode .card-item-wrapper {
  border-color: #334155;
  background: #1e293b;
}

.btn-remove-item {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 50;
  padding: 6px;
  background: white !important;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border: 1px solid #e2e8f0 !important;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
}

.dark-mode .btn-remove-item {
  background: #334155 !important;
  border-color: #475569 !important;
  color: #94a3b8;
}

.btn-remove-item:hover {
  color: #ef4444;
  transform: scale(1.1);
}

.add-category-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-top: 16px;
}

@media (max-width: 480px) {
  .add-category-grid {
    grid-template-columns: 1fr !important;
  }
}

.category-toggle-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.9rem;
  color: #475569;
}

.category-toggle-btn.active {
  background: #eff6ff;
  border-color: #3b82f6;
  color: #1e40af;
  font-weight: 600;
}

.dark-mode .category-toggle-btn {
  background: #1e293b;
  border-color: #334155;
  color: #cbd5e1;
}

.dark-mode .category-toggle-btn.active {
  background: rgba(59, 130, 246, 0.1);
  border-color: #6366f1;
  color: #818cf8;
}

.category-icon-box {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f1f5f9;
  border-radius: 8px;
  color: #6366f1;
}

.category-toggle-btn.active .category-icon-box {
  background: #3b82f6;
  color: white;
}

.dark-mode .category-icon-box {
  background: #0f172a;
}


/* SIDEBAR DESIGN MODE */
.editor-sidebar-forms.design-mode-active {
  background: #1e293b;
  color: white;
  padding: 0;
  overflow: hidden;
  /* Hide outer overflow to allow internal scroll */
}

.sidebar-design-content {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.design-header-sidebar {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-top: 30px;
  padding-left: 30px;
  padding-right: 30px;
  margin-bottom: 5px;
}

.design-header-sidebar h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0;
  color: white;
  line-height: 1.5;
  overflow-wrap: break-word;
}

/* Page 1 (Edit Mode) - Specific Styles */
.template-toggle-btn-top {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 18px;
  background: #6366f1;
  /* Consistent indigo */
  color: white;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  border: none;
  transition: background 0.2s;
}

.template-toggle-btn-top:hover {
  background: #4f46e5;
}

.design-sections-scrollable {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  /* Prevent horizontal scroll */
  padding: 0 30px 0 30px;
  /* Reduced bottom padding to 0 to eliminate gap */
  display: flex;
  flex-direction: column;
  gap: 16px;
  /* Further reduced from 20px to 16px as requested */
}


@media (min-width: 993px) {
  .design-sections-scrollable {
    padding-top: 10px;
    /* Top padding ONLY for desktop as requested */
  }
}

.design-sections-scrollable::-webkit-scrollbar {
  width: 6px;
}

.design-sections-scrollable::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
}

.btn-back-to-edit {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #4338ca;
  /* High contrast indigo */
  color: white !important;
  padding: 10px 20px;
  border-radius: 8px;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  margin-bottom: 24px;
  transition: all 0.2s;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.btn-back-to-edit:hover {
  background: #4f46e5;
  transform: translateX(-4px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  /* Two columns side-by-side */
  gap: 12px 20px;
  /* Added 12px vertical gap for when stacked or tightly packed */
  width: 100%;
  margin-top: 10px;
}

@media (max-width: 787px) {
  .form-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }
}

.form-group {
  margin: 0;
  padding: 0;
}

.form-group.full-width {
  grid-column: 1 / -1 !important;
  width: 100% !important;
  max-width: none !important;
}

.form-group.always-full-width {
  grid-column: 1 / -1 !important;
  width: 100% !important;
  max-width: none !important;
  margin-top: 16px !important;
}

.form-group.full-width .form-input,
.form-group.always-full-width .form-input {
  width: 100% !important;
}


.section-content-inner {
  padding: 12px 24px;
  /* Reduced vertical padding from 20px for high density */
}

/* Form Styling - New */
.form-label {
  display: block;
  font-size: 0.85rem;
  font-weight: 600;
  color: #64748b;
  margin: 0 0 2px 0;
  transition: color 0.2s;
}

.form-input {
  width: 100%;
  padding: 8px 12px;
  /* Compact padding */
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  background: #ffffff;
  color: #1e293b;
  font-size: 0.95rem;
  transition: all 0.2s;
  outline: none;
}

.form-input:focus {
  border-color: #6366f1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* Dark Mode Overrides for CV Builder */
.dark-mode .editor-sidebar-forms {
  background: #0f172a;
  border-right-color: #1e293b;
}

.dark-mode .form-section-card {
  background: #1e293b;
  border-color: #334155;
}

.dark-mode .section-trigger:hover {
  background: #334155;
}

.dark-mode .section-title-box {
  color: #f1f5f9;
}

.dark-mode .section-content-inner {
  border-top-color: #334155;
  background: #1e293b;
}

.dark-mode .form-label {
  color: #cbd5e1;
}

.dark-mode .form-input {
  background: #0f172a;
  color: #f1f5f9;
  border-color: #334155;
}

.dark-mode .form-input:focus {
  border-color: #818cf8;
}

.dark-mode .btn-add-section {
  background: #1e293b;
  border-color: #475569;
  color: #94a3b8;
}

.dark-mode .btn-add-section:hover {
  background: #334155;
}

.design-label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.design-label-row.line-spacing-row {
  justify-content: flex-start !important;
  gap: 16px;
}

.spacing-icons {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #94a3b8;
  font-size: 1.2rem;
}

/* Active Overlays for Templates & Colors */
.tpl-thumb-sidebar {
  width: 185px;
  /* Exact match */
  height: 258px;
  /* Proportional */
  background: white;
  border-radius: 6px;
  overflow: hidden;
  position: relative;
  border: 1px solid #334155;
  transition: all 0.2s;
  padding: 0;
  /* Clear padding to let scale handle spacing */
}

.tpl-preview-container {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.tpl-active-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  /* Force to very top */
  pointer-events: none;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.03);
  /* Extremely subtle tint to confirm it's there */
}

.active-check-badge {
  background: #ef4444;
  /* Clean red */
  color: white;
  width: 28px;
  /* Smaller as requested */
  height: 28px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
  opacity: 0.85;
  /* Slight transparency */
  /* Extra centering insurance */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.active-check-badge svg {
  display: block;
  /* Remove baseline spacing */
}

.color-circle-mini {
  width: 24px;
  /* Reduced further as requested */
  height: 24px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;
  margin: 0;
  outline: none;
  box-sizing: border-box;
}

.color-circle-mini:hover {
  transform: scale(1.1);
}

.color-circle-mini.active {
  border: 3px solid white;
  /* Essential white border for active state */
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);
  /* Subtle definition */
}

.color-circle-mini.disabled,
.custom-picker-sidebar.disabled {
  opacity: 0.5;
  cursor: not-allowed !important;
  filter: grayscale(0.8);
  position: relative;
}

.color-circle-mini.disabled:hover,
.custom-picker-sidebar.disabled:hover {
  transform: none !important;
  border-color: inherit !important;
}

/* Ensure the icon inside has no margin that offsets it */
.color-circle-mini svg {
  margin: 0;
  display: block;
}


/* Ensure selected state for cards */
.tpl-card-sidebar.active .tpl-thumb-sidebar {
  border: 3.5px solid #ef4444 !important;
  /* Thicker red border for active */
}

/* Sticky Bottom Bar for Sidebar Content Mode */
.editor-footer-info {
  margin-top: 0 !important;
  /* Force connection to templates */
  padding: 12px 30px;
  display: flex;
  align-items: center;
  gap: 8px;
  color: #64748b;
  font-size: 0.9rem;
  border-top: 1px solid #f1f5f9;
}

/* Standardized Design Mode Controls */
.design-group-sidebar {
  display: flex;
  flex-direction: column;
}

.design-group-sidebar label {
  font-size: 0.75rem;
  /* Smaller labels for cleaner hierarchy */
  font-weight: 600;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.design-group-sidebar input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 4px;
  background: #334155;
  border-radius: 2px;
  outline: none;
  margin-top: 10px;
}

/* Wrapper for precise arrow control */
.font-select-wrapper-sidebar {
  position: relative;
  width: fit-content;
  align-self: flex-start !important;
  margin-top: 8px;
}

.font-select-sidebar {
  width: 220px !important;
  max-width: 100% !important;
  padding: 6px 35px 6px 12px;
  /* Extra padding for the absolute icon */
  background: #334155;
  border: 1px solid #475569;
  border-radius: 8px;
  color: white;
  font-size: 0.85rem;
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  transition: all 0.2s;
  display: block;
}

.select-arrow-sidebar {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #94a3b8;
  pointer-events: none;
  /* Crucial: clicks go through to the select */
}

.font-select-sidebar:hover {
  border-color: #6366f1;
}

.font-select-sidebar:focus {
  outline: none;
  border-color: #6366f1;
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.design-group-sidebar input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  background: #6366f1;
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid #1e293b;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

.font-select-sidebar {
  width: 100%;
  padding: 12px 16px;
  background: #334155;
  border: 1px solid #475569;
  color: white;
  border-radius: 8px;
  font-size: 1rem;
  outline: none;
  cursor: pointer;
  margin-top: 10px;
}

.template-grid-sidebar {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(185px, 1fr));
  justify-content: center;
  gap: 15px;
  padding-bottom: 20px;
  width: 100%;
}

.tpl-card-sidebar {
  display: flex;
  flex-direction: column;
  gap: 6px;
  /* Reduced from 10px */
  cursor: pointer;
  max-width: 100%;
  min-width: 0;
}

.tpl-card-sidebar:hover .tpl-thumb-sidebar {
  border: 3px solid #6366f1 !important;
  /* Thicker blueish hover border */
  /* Removed transform as requested */
}

.tpl-name-sidebar {
  font-size: 0.8rem;
  color: #94a3b8;
  text-align: center;
  text-transform: capitalize;
  font-weight: 500;
}

.premium-badge-sidebar {
  font-size: 0.7rem;
  color: #6366f1;
  font-weight: 700;
  border: 1px solid #6366f1;
  padding: 1px 6px;
  border-radius: 4px;
}

/* Color Circles Layout */
.color-circles-sidebar {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
  margin-top: 12px;
}

/* Precise Thumbnail Scaling - Applied only to the container */
.tpl-preview-container>div {
  transform: scale(0.234);
  /* Increased to fully fill 185px width (edge-to-edge) */
  transform-origin: top center;
  width: 210mm !important;
  height: 297mm !important;
  min-width: 210mm !important;
}

/* End of template styles */

.custom-picker-sidebar {
  position: relative;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px dashed #475569;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: border-color 0.2s;
}

.custom-picker-sidebar:hover {
  border-color: #6366f1;
}

/* Global Scrollbar removal removed to allow form sidebar to have scrollbar */
/* Floating Help Button */
.help-btn-floating {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: #2563eb;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 1000;
}

.help-btn-floating:hover {
  transform: scale(1.1);
  background: #1d4ed8;
  box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5);
}

.title-edit-input {
  background: transparent;
  border: 1px solid transparent;
  color: white;
  font-size: 1.05rem;
  font-weight: 700;
  padding: 4px 0;
  width: 100%;
  border-radius: 6px;
  transition: all 0.2s;
  cursor: text;
}

.title-edit-input:focus {
  background: rgba(255, 255, 255, 0.1);
}

.cv-title-display {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Rich Text Editor Customization */
.ql-container {
  font-family: 'Inter', sans-serif !important;
  font-size: 0.9rem !important;
  border-bottom-left-radius: 8px !important;
  border-bottom-right-radius: 8px !important;
}

.ql-toolbar.ql-snow {
  border-top-left-radius: 8px !important;
  border-top-right-radius: 8px !important;
  background-color: #f8fafc !important;
  border-color: #e2e8f0 !important;
}

.ql-container.ql-snow {
  border-color: #e2e8f0 !important;
  background: #cbd5e1 !important;
}

.ql-editor {
  min-height: 120px;
}

/* ========================================= */


/* ROBUST OVERRIDES FOR FORM GRID LAYOUT - CONSISTENT EXPANSION */
@media (min-width: 787px) {
  .cv-editor-design .form-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    width: 100% !important;
  }

  .cv-editor-design .form-grid .form-group:not(.full-width):not(.always-full-width) {
    grid-column: auto !important;
    width: 100% !important;
    max-width: none !important;
  }

  /* FORCED FULL WIDTH: Absolutely zero constraints above mobile */
  .cv-editor-design .form-grid .form-group.full-width,
  .cv-editor-design .form-grid .form-group.always-full-width {
    grid-column: 1 / -1 !important;
    width: 100% !important;
    max-width: none !important;
    margin-right: 0 !important;
  }
}

/* MOBILE FIX: STACK FORMS REGARDLESS OF NESTING */
@media (max-width: 787px) {
  .cv-editor-design .form-grid,
  .form-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  /* Responsive Header Cleanup */
  .title-edit-input {
    font-size: 0.95rem;
  }

  .editor-global-header {
    padding: 0 12px;
  }

  .download-btn-red {
    padding: 8px 12px;
    font-size: 0.85rem;
  }
}


.saved-resumes-section {
  width: 100%;
  margin-top: 60px;
  padding-top: 40px;
  border-top: 2px dashed #f1f5f9;
}

.saved-resumes-section h2 {
  text-align: center;
  margin-bottom: 32px;
  font-size: 2rem;
  color: #1e293b;
}

.resume-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 24px;
  justify-content: center;
  width: 100%;
}

.resume-item-card {
  background: white;
  border: 1px solid #f1f5f9;
  border-radius: 16px;
  padding: 24px;
  display: flex;
  align-items: center;
  gap: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.resume-item-card:hover {
  border-color: rgba(99, 102, 241, 0.3);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
}

.resume-icon {
  width: 52px;
  height: 52px;
  background: #f0f4ff;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6366f1;
  flex-shrink: 0;
}

.resume-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.resume-details h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0;
}

.resume-details .template-name {
  font-size: 0.85rem;
  color: #6366f1;
  font-weight: 600;
}

.resume-details .last-updated {
  font-size: 0.75rem;
  color: #94a3b8;
}

.resume-actions {
  display: flex;
  gap: 8px;
}

.action-btn {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #f1f5f9;
  background: white;
  cursor: pointer;
  transition: all 0.2s ease;
  color: #64748b;
}

.action-btn:hover {
  background: #f8fafc;
}

.action-btn.edit:hover {
  color: #6366f1;
  border-color: #6366f1;
  background: #f0f4ff;
}

.action-btn.download:hover {
  color: #10b981;
  border-color: #10b981;
  background: #ecfdf5;
}

.action-btn.delete:hover {
  color: #ef4444;
  border-color: #ef4444;
  background: #fef2f2;
}

/* ========================================= */
/* GRAND CONSOLIDATED RESPONSIVE OVERRIDES   */
/* (Clean State Restoration)                 */
/* ========================================= */

/* Viewport Foundation - FIXED HEIGHT ONLY FOR DESKTOP (>992px) */
@media (min-width: 993px) {
  .cv-editor-design {
    height: 100vh !important;
    overflow: hidden !important;
  }

  .editor-main-split {
    height: calc(100vh - 60px) !important;
    overflow: hidden !important;
  }
}

.cv-editor-design {
  display: flex !important;
  flex-direction: column !important;
}

.editor-main-split {
  flex: 1 !important;
  display: flex !important;
}

/* Side-by-Side Behaviors (>768px) */
@media (min-width: 787px) {
  .editor-main-split {
    flex-direction: row !important;
  }

  .editor-sidebar-forms {
    height: 100% !important;
    overflow-y: auto !important;
    border-right: 1px solid #e2e8f0;
  }

  .editor-preview-pane {
    flex: 1 !important;
    height: 100% !important;
    overflow: hidden !important;
    background: #cbd5e1;
    /* RESTORED SILVER BACKGROUND */
    position: relative;
    display: flex !important;
    flex-direction: column !important;
  }

  /* Remove all extra padding/margin that hides CV */
  .preview-scroll-area {
    flex: 1;
    overflow: visible !important;
    /* CHANGED: Don't hide overflow */
    background: #cbd5e1;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 0 !important;
    /* CHANGED: Remove ALL padding */
    min-height: 0;
  }

  .preview-scaler {
    margin: -16px auto 0 auto !important;
    /* LOWERED BY 4PX */
    transform-origin: top center !important;
    transform: scale(0.52) !important;
    height: 584px !important;
    width: 419px !important;
    position: relative;
    flex-shrink: 0;
  }

  /* Ensure the canvas itself stays 806px inside the scaler */
  .preview-scaler .resume-paper-canvas {
    width: 806px !important;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
}

/* Specific Desktop Range (>992px) */
@media (min-width: 993px) {
  .mode-design .editor-sidebar-forms {
    flex: 0 0 450px !important;
    min-width: 450px !important;
  }

  .template-grid-sidebar {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 15px !important;
  }

  /* DESKTOP DESIGN MODE OVERRIDES (Responsive) */
  .mode-design .editor-sidebar-forms {
    flex: 0 0 450px !important;
    min-width: 450px !important;
  }

  .mode-design .editor-preview-pane {
    overflow: auto !important;
    height: 100% !important;
    display: block !important;
  }

  .mode-design .preview-scroll-area {
    /* padding removed, using pseudo-element instead */
    min-height: 100% !important;
    width: 100% !important;
  }

  /* FORCE BOTTOM SPACING WITH PSEUDO-ELEMENT */
  /* FORCE BOTTOM SPACING WITH PSEUDO-ELEMENT */
  .mode-design .preview-scroll-area::after {
    content: "";
    display: block !important;
    height: 5px !important;
    /* Minimal Spacer */
    width: 100% !important;
    flex-shrink: 0 !important;
  }

  /* Default Desktop (Medium Screens: 993px - 1400px) */
  .mode-design .preview-scaler {
    margin: 5px auto 25px auto !important;
    /* REDUCED BOTTOM MARGIN to 25px */
    transform: scale(0.65) !important;
    height: 730px !important;
    width: 524px !important;
  }

  .mode-design .preview-footer-minimal {
    display: none !important;
  }
  }
  /* Large Screens (>1400px) */
  @media (min-width: 1400px) {
    .mode-design .preview-scaler {
      transform: scale(0.75) !important;
      height: 842px !important;
      width: 604px !important;
    }
  }

  /* HIDE PAGE BREAK INDICATOR IN DESIGN MODE */
  .mode-design .show-page-breaks::before,
  .mode-design .show-page-breaks::after {
    display: none !important;
  }


/* Specific Tablet Range (768px - 992px) */
@media (min-width: 787px) and (max-width: 992px) {
  .mode-design .editor-sidebar-forms {
    flex: 0 0 300px !important;
    min-width: 300px !important;
    padding: 30px 20px !important;
    /* TABLET PADDING */
    background: #1e293b !important;
    /* RESTORED DARK THEME */
    color: white !important;
  }

  .template-grid-sidebar {
    grid-template-columns: 1fr !important;
    gap: 15px !important;
  }

  .tpl-card-sidebar {
    width: 185px !important;
    margin: 0 auto !important;
  }

  .preview-scaler {
    transform: scale(0.52) !important;
    height: 584px !important;
    width: 419px !important;
    margin: -11px auto 0 auto !important;
    /* PUSHED UP BY 3PX FOR TABLET */
  }

  /* Compact Spacing Controls for Tablet */
  .line-spacing-row {
    gap: 8px !important;
  }

  .line-spacing-row label {
    font-size: 0.65rem !important;
    white-space: nowrap !important;
  }

  .spacing-btn {
    width: 24px !important;
    height: 24px !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .spacing-btn svg {
    width: 14px !important;
    height: 14px !important;
  }

  .spacing-icons svg {
    width: 16px !important;
    height: 16px !important;
  }

  /* Status Pill - MATCHING REDUCED MARGIN FOR TABLET */
  .preview-footer-minimal {
    position: static !important;
    transform: none !important;
    margin: 20px auto 30px auto !important;
    /* PUSHED UP */
    padding-top: 16px !important;
    padding-bottom: 16px !important;
  }

  /* Target EDIT mode (not design mode) - FIXED FOR GLOBAL SCROLL */
  .mode-content .editor-main-split {
    flex-direction: column !important;
    height: auto !important;
    overflow: visible !important;
  }

  .mode-content .editor-sidebar-forms {
    width: 100% !important;
    height: auto !important;
    min-width: 100% !important;
    max-width: 100% !important;
    padding: 30px 25px !important;
    /* REDUCED PADDING TO WIDEN CONTENT ON TABLET */
    border-right: none !important;
    border-bottom: 1px solid #e2e8f0;
    overflow: visible !important;
  }

  .mode-content .editor-preview-pane {
    width: 100% !important;
    height: auto !important;
    min-height: 700px;
    flex: none !important;
    overflow: visible !important;
  }

  .mode-content .preview-scroll-area {
    padding: 20px 0 !important;
    overflow: visible !important;
  }

  .mode-content .preview-scaler {
    margin: 0 auto !important;
    transform: scale(0.6) !important;
    height: 674px !important;
    width: 484px !important;
  }

  /* Move footer to flow normally in the column */
  .mode-content .preview-footer-minimal {
    position: static !important;
    transform: none !important;
    margin: 20px auto !important;
    width: fit-content !important;
  }

  /* KEEP DESIGN MODE as two columns */
  .mode-design .editor-main-split {
    flex-direction: row !important;
    /* Keep side by side */
    height: calc(100vh - 60px) !important;
    overflow: hidden !important;
  }

  .mode-design .editor-sidebar-forms {
    flex: 0 0 300px !important;
    /* Keep fixed width */
    min-width: 300px !important;
    max-width: 300px !important;
    padding: 12px 15px !important;
    overflow-y: auto !important;
  }

  .mode-design .editor-preview-pane {
    flex: 1 !important;
    height: 100% !important;
    overflow-y: auto !important;
    /* ENABLE SCROLLING */
    overflow-x: hidden !important;
  }

  .mode-design .preview-scaler {
    margin: 5px auto 40px auto !important;
    /* Reduced top margin to 5px */
    transform: scale(0.55) !important;
    /* Reduced from 0.75 to 0.55 to fit Tablet screen */
    height: 618px !important;
    /* 1123 * 0.55 */
    width: 444px !important;
    /* 806 * 0.55 */
  }

  /* HIDE PAGE BREAK INDICATOR IN DESIGN MODE */
  .mode-design .show-page-breaks::before,
  .mode-design .show-page-breaks::after {
    display: none !important;
  }

  /* FORCE BOTTOM SPACING WITH PSEUDO-ELEMENT */
  .mode-design .preview-scroll-area::after {
    content: "";
    display: block !important;
    height: 3px !important;
    /* CONSISTENT 3px SPACER */
    width: 100% !important;
    flex-shrink: 0 !important;
  }

  /* HIDE FOOTER IN DESIGN MODE AS REQUESTED */
  .mode-design .preview-footer-minimal {
    display: none !important;
  }
}

@media (max-width: 787px) {
  .resume-paper-canvas.show-page-breaks::after {
    display: none !important;
  }

  .editor-main-split {
    flex-direction: column !important;
    /* FORCE VERTICAL STACKING */
    height: calc(100vh - 60px) !important;
    /* FIXED HEIGHT FOR INTERNAL SCROLL */
    overflow-y: auto !important;
    /* Allow scrolling the whole stacked view */
    overflow-x: hidden !important;
    /* PREVENT CLIPPING OVERFLOW */
    background: #cbd5e1 !important;
    background-color: #cbd5e1 !important;
    /* FORCED GREY BACK */
  }

  .editor-sidebar-forms {
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    padding: 20px 16px 12px 16px !important;
    /* Reduce bottom padding to avoid big white gap before preview */
    flex: none !important;
    background: #cbd5e1 !important;
    background-color: white !important;
    border-bottom: 2px solid #e2e8f0;
  }

  /* NEW: Hide Duplicate Sidebar in Design Mode on Mobile */
  .mode-design .editor-sidebar-forms {
    display: none !important;
  }

  /* SCALE DOWN FORMS ON MOBILE */
  .editor-sidebar-forms .form-section-card,
  .editor-sidebar-forms .add-category-section {
    max-width: 100% !important;
    /* Expanded to full width as requested */
    margin: 0 auto 12px auto !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .editor-sidebar-forms .add-category-section {
    padding-bottom: 12px !important;
    /* Avoid large white gap before the preview */
  }

  .editor-sidebar-forms .add-category-section h4 {
    padding-left: 2px !important;
    /* Slight nudge for perfect vertical alignment with labels */
  }


  .editor-sidebar-forms .section-trigger,
  .editor-sidebar-forms .summary-header-wrapper {
    padding: 12px 16px !important;
  }

  /* Mobile layout: title+chevron on Row 1, examples on Row 2 */
  @media (max-width: 575px) {
    .editor-sidebar-forms .summary-header-trigger {
      padding: 12px 16px 10px 16px !important;
      display: flex !important;
      flex-wrap: wrap !important;
      align-items: center !important;
      gap: 0 !important;
    }

    /* Title stays on Row 1, takes all space */
    .editor-sidebar-forms .summary-header-trigger .section-title-box {
      order: 1 !important;
      flex: 1 !important;
    }

    /* Chevron stays on Row 1, after title, at the right edge */
    .editor-sidebar-forms .summary-header-trigger .summary-chevron {
      order: 2 !important;
      margin-left: auto !important;
      color: #1e293b !important;
    }

    /* Examples group wraps to Row 2 */
    .editor-sidebar-forms .summary-header-trigger .summary-right-group {
      order: 3 !important;
      flex-basis: 100% !important;
      width: 100% !important;
      padding-left: 32px !important; /* align with title text start */
      margin-top: 8px !important;
      margin-bottom: 2px !important;
      margin-left: 0 !important;
    }

    .editor-sidebar-forms .summary-actions-responsive .btn-examples-link {
      font-size: 11px !important;
    }
  }

  /* Desktop layout: all on one row */
  @media (min-width: 576px) {
    .editor-sidebar-forms .summary-header-trigger {
       padding: 12px 16px !important;
       flex-wrap: nowrap !important;
    }

    /* On desktop: examples group + chevron are pushed to far right together */
    .editor-sidebar-forms .summary-header-trigger .summary-right-group {
      margin-left: auto !important;
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
    }

    /* Chevron right after the examples group, no extra margin */
    .editor-sidebar-forms .summary-header-trigger .summary-chevron {
      margin-left: 0 !important;
      color: #1e293b !important;
    }


  }

  .editor-sidebar-forms .section-content-inner {
    padding: 16px !important;
  }

  .editor-sidebar-forms .form-label {
    font-size: 0.8rem !important;
  }

  .editor-sidebar-forms .form-input {
    padding: 6px 10px !important;
    font-size: 0.9rem !important;
  }

  .editor-sidebar-forms .ql-editor {
    min-height: 100px !important;
    font-size: 0.9rem !important;
  }

  .editor-preview-pane {
    height: auto !important;
    min-height: 550px !important; /* Aggressive increase per user request */
    padding: 0 !important;
    background: #cbd5e1 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important; /* PERFECT CENTER */
    justify-content: flex-start !important;
    overflow: visible !important;
    width: 100% !important;
  }

  .preview-scroll-area {
    width: 100% !important;
    height: auto !important;
    padding: 70px 0 150px 0 !important; /* Aggressive top and bottom clearance */
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important; /* PERFECT CENTER */
    justify-content: flex-start !important;
    overflow: visible !important;
    background: #cbd5e1 !important;
    box-sizing: border-box !important;
    margin: 0 !important;
  }


  .preview-scaler {
    margin: 0 auto !important; /* PERFECT CENTER */
    transform-origin: top center !important;
    transform: scale(0.44) !important; /* REDUCED SCALE to fit mobile width (375px) */
    height: 494px !important; /* 1123 * 0.44 = 494.12 */
    width: 355px !important; /* 806 * 0.44 = 354.64 */
    position: relative;
    display: block !important;
    flex-shrink: 0;
    left: auto !important;
    right: auto !important;
  }

  .preview-scaler .resume-paper-canvas {
    width: 806px !important;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  .template-grid-sidebar {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  .preview-footer-minimal {
    position: static !important;
    transform: none !important;
    margin: 10px auto 20px auto !important; /* Tight to content but with bottom breathing room */
    padding: 4px 12px !important; /* Tiny Pill */
    background: rgba(30, 41, 59, 1) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    width: fit-content !important;
    border-radius: 20px !important;
    pointer-events: auto !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2) !important;
    z-index: 10 !important;
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    flex-shrink: 0 !important;
  }

  .preview-footer-minimal .status-saved-text span,
  .preview-footer-minimal .pagination-text span {
    font-size: 0.7rem !important;
  }

  .preview-footer-minimal .status-saved-text svg {
    width: 12px !important;
    height: 12px !important;
  }
}

@media (max-width: 500px) {
  .mode-content .preview-scroll-area {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  .mode-content .preview-shell {
    width: 100% !important;
    padding-left: 10px !important;
    padding-right: 10px !important;
    box-sizing: border-box !important;
  }

  .mode-content .preview-slot {
    max-width: none !important;
  }
}

/* Utility Classes */
/* --- CONSOLIDATED MOBILE & DRAWER STYLES --- */

/* 1. DRAWER STYLES (Moved from mobile_drawer_styles.css) */
.mobile-design-drawer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #1e293b;
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  z-index: 2000;
  transform: translateY(105%);
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  max-height: 70vh;
  color: white;
}

.mobile-design-drawer.open {
  transform: translateY(0);
}

.drawer-header {
  padding: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-weight: 600;
  cursor: pointer;
  border-bottom: 1px solid #334155;
  color: #94a3b8;
}

.drawer-header:hover {
  color: white;
}

.drawer-content {
  padding: 16px;
  /* Reduced from 20px 16px */
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  /* Reduced from 20px */
}

.drawer-section {
  display: flex !important;
  flex-direction: column;
  gap: 12px;
  border-bottom: 1px dashed #334155;
  padding-bottom: 12px;
  /* Reduced from 24px */
  visibility: visible !important;
}

.drawer-section.no-border {
  border-bottom: none;
  padding-bottom: 0;
}

.drawer-label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.drawer-label-row label {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  color: #94a3b8;
  font-weight: 600;
}

/* Range Input styling */
.drawer-range-input {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 4px;
  background: #475569;
  border-radius: 2px;
  outline: none;
}

.drawer-range-input::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  background: #6366f1;
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid #1e293b;
}

/* Color Row */
.drawer-color-row {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding-bottom: 4px;
}

/* Template Horizontal List */
.drawer-template-list {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding: 10px 0 5px 0;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.drawer-tpl-card {
  flex: 0 0 165px !important;
  /* Refined from 140px/200px */
  min-width: 165px !important;
  max-width: 165px !important;
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
  scroll-snap-align: start;
}

.drawer-tpl-thumb {
  width: 100%;
  height: 230px;
  /* Refined from 196px/280px */
  background: #cbd5e1 !important;
  background-color: #cbd5e1 !important;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
  transition: all 0.25s ease;
  border: none !important;
}

.drawer-tpl-card.active .drawer-tpl-thumb {
  border: 4px solid #ff4d4d !important;
  box-shadow: 0 0 20px rgba(255, 77, 77, 0.3);
}

/* EXPLICT DRAWER THUMBNAIL SCALING */
/* Targeting BOTH potential containers to be safe */
.drawer-tpl-thumb .tpl-preview-container>div,
.drawer-preview-scaler>div,
.drawer-preview-scaler .resume-template {
  transform: scale(0.204) !important;
  /* Refined from 0.173/0.25 */
  transform-origin: top center !important;
  width: 210mm !important;
  height: 297mm !important;
  min-width: 210mm !important;
}

.drawer-preview-scaler {
  width: 100%;
  height: 100%;
  overflow: hidden;
  padding-left: 0 !important;
  display: flex;
  /* Restore Flex Center */
  justify-content: center;
}

/* Ensure scaler container doesn't overflow */
.drawer-preview-scaler {
  width: 100%;
  height: 100%;
  overflow: hidden;
}


.drawer-tpl-name {
  font-size: 0.85rem;
  color: #fff;
  text-align: center;
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 2px;
}

/* Floating Button (Sticky Footer Style) */
.mobile-floating-templates-btn {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #6366f1;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  z-index: 1900;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
  transition: all 0.2s;
}

.drawer-label-row.tight {
  justify-content: flex-start !important;
  align-items: center !important;
  /* VERTICAL ALIGNMENT FIX */
  gap: 10px;
}

.compact-spacing-controls {
  display: flex;
  align-items: center;
  gap: 6px;
  /* Reduced from 12px */
  transform: translateY(2px);
  /* NUDGE DOWN PER USER */
}

.spacing-btn {
  background: #334155;
  border: none;
  width: 26px;
  /* Reduced from 32px */
  height: 26px;
  /* Reduced from 32px */
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #94a3b8;
  transition: all 0.2s;
}

/* Hide Drawer/Button on Desktop */
@media (min-width: 787px) {

  .mobile-design-drawer,
  .mobile-floating-templates-btn {
    display: none !important;
  }
}

/* Top spacing only on small screens (<992px) */
@media (max-width: 992px) {
  .drawer-label-row label {
    margin-top: 4px;
    /* Reduced from 16px */
  }
}

/* 2. MAIN MOBILE LAYOUT FIXES (Targeting max-width: 786px) */
@media (max-width: 787px) {
  .hide-on-mobile {
    display: none !important;
  }

  .template-toggle-btn-top {
    display: none !important;
  }

  /* REMOVED GLOBAL LOCK - Handled via JS in Editor to allow scrolling on List Page */

  /* Consolidated above */

  /* NEW: DECOUPLED STICKY FOOTER ELEMENTS (Mobile) */
  /* 1. Container - Just a wrapper for logic, styles handled individually */
  .mobile-sticky-footer-controls {
    display: contents !important;
    pointer-events: none !important;
  }

  /* 2. THE BUTTON - Fixed Bottom Center Flush */
  .mobile-floating-templates-btn {
    position: fixed !important;
    bottom: 0 !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    right: auto !important;
    margin: 0 !important;
    direction: ltr !important;
    /* Force LTR to prevent Arabic mirroring issues */
    text-align: center !important;

    width: fit-content !important;
    max-width: 250px !important;

    background: #6366f1 !important;
    color: white !important;
    border: none !important;
    padding: 12px 24px !important;

    /* Rounded Top Corners only? Or Pill? User likes Pill but wants flush? */
    /* If flush, bottom corners 0? Let's try Pill with 0 margin. */
    border-radius: 30px !important;
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;

    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    box-shadow: 0 -2px 10px rgba(99, 102, 241, 0.3) !important;
    z-index: 200000 !important;
    pointer-events: auto !important;
    margin: 0 !important;
  }

  /* ABSOLUTE MOBILE ISOLATION (FIX MIXING) */
  .preview-page-viewport-live {
    width: 794px !important;
    max-width: 794px !important;
    height: 1050px !important;
    overflow: hidden !important;
    margin: 0 auto !important;
    position: relative !important;
  }

  /* Keep internals visible, but keep slot clipping deterministic */
  .preview-scaler, .resume-paper-canvas, .preview-scaler-live {
    overflow: visible !important;
  }

  .preview-slot {
    overflow: hidden !important;
  }

  /* RESTORE MOBILE SCROLL & ALIGNMENT */
  .preview-scroll-area {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding-bottom: 250px !important; /* Huge bottom space for pill + drawer */
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    width: 100% !important;
  }

  /* CENTER MOBILE PILL UNDER CV (NORMAL FLOW) */
  .preview-footer-minimal {
    position: relative !important;
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
    display: flex !important;
    justify-content: center !important;
    width: fit-content !important;
    min-width: 140px !important;
    z-index: 100 !important;
    background: #1e293b !important;
    border-radius: 20px !important;
    padding: 8px 16px !important;
    margin: 20px auto !important; /* Centered in flow */
    box-shadow: 0 4px 15px rgba(0,0,0,0.3) !important;
    pointer-events: auto !important;
  }
}

/* 3. DESKTOP FOOTER PILL (Outside the mobile query) */
@media (min-width: 787px) {
  .mobile-sticky-footer-controls {
    display: contents !important;
    pointer-events: none !important;
  }

  .preview-footer-minimal {
    position: fixed !important;
    bottom: 8px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    margin: 0 !important;
    padding-top: 4px !important;
    padding-bottom: 4px !important;
    background: rgba(30, 41, 59, 0.95) !important;
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    padding-left: 12px !important;
    padding-right: 12px !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
    z-index: 1000 !important;
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
    width: fit-content !important;
  }

  .preview-footer-minimal .status-saved-text span,
  .preview-footer-minimal .pagination-text span {
    color: #cbd5e1 !important;
    font-size: 0.75rem !important;
    /* Reduced for tiny look */
    font-weight: 500 !important;
  }

  .preview-footer-minimal .pagination-text {
    border-left: 1px solid rgba(255, 255, 255, 0.2) !important;
    margin-left: 8px !important;
    padding-left: 8px !important;
  }

  .preview-scroll-area {
    padding-top: 40px !important;
    padding-bottom: 0px !important;
    overflow-y: hidden !important;/* No scroll per user */
  }
}

/* PDF Export Overlay */
.pdf-export-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(15, 23, 42, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: overlayFadeIn 0.3s ease-out;
}

.export-loader-card {
  background: white;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  text-align: center;
  max-width: 320px;
  width: 90%;
  animation: cardSlideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.export-loader-card .spinner {
  color: #3b82f6;
  animation: spin 1s linear infinite;
}

.export-loader-card h3 {
  margin: 0;
  color: #1e293b;
  font-size: 1.25rem;
}

.export-loader-card p {
  margin: 0;
  color: #64748b;
  font-size: 0.95rem;
}

@keyframes overlayFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Modal Styles */
.delete-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.4);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 20px;
  animation: fadeIn 0.2s ease-out;
}

.delete-modal-card {
  background: white;
  border-radius: 16px;
  width: 100%;
  max-width: 450px;
  padding: 24px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.delete-modal-header {
  display: flex;
  align-items: flex-start;
  margin-bottom: 16px;
}

.delete-modal-body {
  margin-bottom: 24px;
}

.delete-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

@keyframes cardSlideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Dash Wrapping & Text Overflow Fixes */
.summary,
.description,
.pro-summary,
.pro-exp-desc,
.exp-description-text,
.section-content-text,
.resume-paper-canvas * {
  word-break: normal !important;
  overflow-wrap: break-word !important;
  white-space: normal !important;
}

/* =========================================
   RESUME LIST CARD STYLES (Added for Dark Mode Fix)
   ========================================= */
.resume-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 24px;
  width: 100%;
}

.resume-item-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  transition: all 0.2s ease;
  position: relative;
  cursor: default;
}

.resume-item-card:hover {
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
  border-color: #3b82f6;
}

.resume-icon {
  width: 56px;
  height: 56px;
  background: #eff6ff;
  color: #3b82f6;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.resume-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.resume-details h3 {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 700;
  color: #1e293b;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.resume-details .template-name {
  font-size: 0.85rem;
  color: #6366f1;
  font-weight: 600;
}

.resume-details .last-updated {
  font-size: 0.75rem;
  color: #94a3b8;
}

.resume-actions {
  display: flex;
  gap: 8px;
}

.action-btn {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  background: white;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
}

.action-btn:hover {
  background: #f8fafc;
  color: #334155;
  border-color: #cbd5e1;
}

.action-btn.delete:hover {
  background: #fef2f2;
  color: #ef4444;
  border-color: #fecaca;
}

/* DARK MODE OVERRIDES */
.dark-mode .resume-item-card {
  background: #1e293b;
  border-color: #334155;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.dark-mode .resume-item-card:hover {
  border-color: #6366f1;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
}

.dark-mode .resume-icon {
  background: #334155;
  /* Darker bg for icon */
  color: #818cf8;
}

.dark-mode .resume-details h3 {
  color: #f8fafc;
}

.dark-mode .resume-details .template-name {
  color: #818cf8;
}

.dark-mode .resume-details .last-updated {
  color: #cbd5e1;
}

.dark-mode .action-btn {
  background: #334155;
  border-color: #475569;
  color: #cbd5e1;
}

/* Glassy Purple Hover for Edit */
.dark-mode .action-btn.edit:hover {
  background: rgba(99, 102, 241, 0.2);
  /* Glassy Indigo/Purple */
  color: #a5b4fc;
  border-color: #6366f1;
  box-shadow: 0 0 15px rgba(99, 102, 241, 0.2);
}

/* Glassy Green Hover for Download */
.dark-mode .action-btn.download:hover {
  background: rgba(16, 185, 129, 0.2);
  /* Glassy Green */
  color: #6ee7b7;
  border-color: #10b981;
  box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
}

.dark-mode .action-btn.delete:hover {
  background: rgba(239, 68, 68, 0.2);
  color: #fca5a5;
  border-color: #ef4444;
  box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
}

/* Add Item Buttons Dark Mode */
.dark-mode .cat-btn-add {
  background: #334155;
  border-color: #475569;
  color: #f1f5f9;
}

.dark-mode .cat-btn-add:hover {
  background: #475569;
  /* Slightly lighter on hover */
  border-color: #64748b;
  color: white;
}

.dark-mode .cat-btn-add svg {
  color: #94a3b8;
}

.dark-mode .cat-btn-add:hover svg {
  color: white;
}

/* Add Item Header */
.add-item-header {
  font-size: 0.9rem;
  font-weight: 600;
  color: #334155;
  margin-bottom: 12px;
}

.dark-mode .add-item-header {
  color: #cbd5e1;
  /* Lighter text for Dark Mode, matches labels */
}

/* Full Width Form Group */
.form-group.full-width {
  width: 100%;
  display: block;
}

/* Rich Text Editor Fixes */
.rich-text-editor-wrapper {
  width: 100%;
  display: block;
  margin-top: 8px;
}

.rich-text-editor-wrapper .quill {
  width: 100%;
  background: white;
  border-radius: 8px;
}

.rich-text-editor-wrapper .ql-toolbar {
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  border-color: #e2e8f0;
}

.rich-text-editor-wrapper .ql-container,
.rich-text-editor-container .ql-container {
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
  border-color: #e2e8f0;
  min-height: 120px;
  padding-top: 16px !important;
  /* Add padding to container */
}

.rich-text-editor-wrapper .ql-editor,
.rich-text-editor-container .ql-editor {
  min-height: 120px;
  padding-top: 20px !important;
  /* Increased top padding for breathing room */
  padding-bottom: 12px !important;
}

/* Extra specificity for stubborn cases */
.form-section-card .rich-text-editor-container .ql-editor,
.section-content-inner .rich-text-editor-container .ql-editor {
  padding-top: 20px !important;
  padding-left: 15px !important;
  padding-right: 15px !important;
}

.dark-mode .rich-text-editor-wrapper .quill,
.dark-mode .rich-text-editor-container .quill {
  background: #0f172a !important;
  border-color: #334155 !important;
  color: #f1f5f9 !important;
}

.dark-mode .rich-text-editor-wrapper .ql-toolbar,
.dark-mode .rich-text-editor-container .ql-toolbar {
  background: #1e293b !important;
  border-color: #334155 !important;
}

.dark-mode .rich-text-editor-wrapper .ql-container,
.dark-mode .rich-text-editor-container .ql-container {
  border-color: #334155 !important;
  background: #0f172a !important;
}

.dark-mode .rich-text-editor-wrapper .ql-editor,
.dark-mode .rich-text-editor-container .ql-editor {
  color: #f1f5f9 !important;
  background: #0f172a !important;
}

/* Placeholder text in dark mode */
.dark-mode .rich-text-editor-wrapper .ql-editor.ql-blank::before,
.dark-mode .rich-text-editor-container .ql-editor.ql-blank::before {
  color: #94a3b8 !important;
  /* Lighter gray for placeholder */
  opacity: 0.7;
}

.dark-mode .ql-stroke {
  stroke: #cbd5e1 !important;
}

.dark-mode .ql-fill {
  fill: #cbd5e1 !important;
}

.dark-mode .ql-picker {
  color: #cbd5e1 !important;
}

.dark-mode .ql-picker-options {
  background: #1e293b !important;
  border-color: #334155 !important;
}

.dark-mode .ql-picker-item {
  color: #f1f5f9 !important;
}

.dark-mode .ql-picker-item:hover {
  background: #334155 !important;
  color: white !important;
}


/* Grid Fix for Full Width Inputs */
.form-group.full {
  grid-column: 1 / -1 !important;
  width: 100% !important;
}

/* Ensure RTE takes full width in grid */
.form-group.full .rich-text-editor-wrapper {
  width: 100% !important;
  max-width: 100% !important;
}

/* Mobile Adjustments for List */
@media (max-width: 768px) {
  .resume-grid {
    grid-template-columns: 1fr;
  }
}

/* Dark mode for section toggle arrows */
.dark-mode .form-section-card svg,
.dark-mode .section-trigger svg,
.dark-mode .collapse-icon {
  color: #cbd5e1 !important;
  stroke: #cbd5e1 !important;
}

/* =========================================
   NEW RESUME DASHBOARD STYLES (2026 Refactor)
   ========================================= */

/* End of Resume List - (Duplicate block removed during cleanup) */

/* 1. Dashboard Header */
.dashboard-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 50px;
}

.dashboard-header-row h1 {
  font-size: 2rem;
  font-weight: 800;
  font-weight: 800;
  color: #1e293b;
  /* Default Light Mode */
  margin-bottom: 8px;
  margin-bottom: 8px;
  letter-spacing: -0.5px;
}

.dashboard-header-row p {
  color: #64748b;
  /* Default Light Mode */
  font-size: 1rem;
}

.btn-primary-large {
  background: #4f46e5;
  /* Indigo-600 */
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.2);
}

.btn-primary-large:hover {
  background: #4338ca;
  transform: translateY(-1px);
  box-shadow: 0 6px 8px -1px rgba(79, 70, 229, 0.3);
}

/* 2. Sections Generic */
.dashboard-section {
  margin-bottom: 60px;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 40px;
  /* Increase space between resume sections */
  margin-bottom: 24px;
}

.section-header h2 {
  font-size: 1.25rem;
  font-weight: 700;
  font-weight: 700;
  color: #1e293b;
  /* Default Light Mode */
}

.btn-link {
  background: none;
  border: none;
  color: #4f46e5;
  font-weight: 600;
  cursor: pointer;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
}

.btn-link:hover {
  text-decoration: underline;
}

/* Consolidated grid rules below */

/* Create Blank Card */
.create-blank-card {
  background: white;
  border: 2px dashed #e2e8f0;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  min-height: 300px;
  /* Restored height to match user resumes */
  transition: all 0.2s ease;
  gap: 16px;
}

.create-blank-card:hover {
  border-color: #94a3b8;
  background: #f8fafc;
}

.plus-circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #f1f5f9;
  display: flex;
  justify-content: center;
  align-items: center;
}

.create-blank-card span {
  font-weight: 600;
  color: #64748b;
  /* Reverted to Gray because card bg is white */
  opacity: 1;
}

/* Sample Template Card - Full Bleed Design */
.sample-template-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid #e2e8f0;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  min-height: auto;
  position: relative;
  display: flex;
  flex-direction: column;
}

.sample-template-card:hover {
  box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.15);
}

.sample-preview-wrapper {
  background: white;
  height: 300px;
  /* Restored height to match user resumes */
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 0;
}

/* Scaling logic for Thumbnail */
.sample-mini-scale {
  transform: scale(0.28);
  /* Standard scale for 222px wide cards */
  transform-origin: top center;
  width: 794px;
  height: 1123px;
  background: white;
  pointer-events: none;
  box-shadow: none;
  margin-top: 0;
}

.lock-icon-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 24px;
  height: 24px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(4px);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  color: #f59e0b;
  z-index: 10;
}

.sample-info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 40px 12px 10px;
  /* Reduced bottom padding */
  /* Dark gradient transparent overlay */
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
  display: flex;
  justify-content: center;
  align-items: flex-end;
  pointer-events: none;
}

.sample-template-card:hover .sample-info {
  padding-bottom: 14px;
}

.sample-info h3 {
  font-size: 1rem;
  font-weight: 600;
  color: white;
  margin: 0;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
}

.user-count {
  display: none;
}

.user-avatars {
  display: none;
}

.ua {
  display: none;
}

/* 4. Tabs & My Resume */
.tabs-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 1px;
}

.tabs-group {
  display: flex;
  gap: 32px;
}

.tab-btn {
  background: none;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  color: #64748b;
  padding: 0 0 12px 0;
  cursor: pointer;
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
}

.tab-btn.active {
  color: #2563eb;
  /* Blue - Always visible */
}

/* Dark Mode support for active tab text */
.dark .tab-btn.active,
[data-theme='dark'] .tab-btn.active {
  color: #f1f5f9;
}

.tab-btn.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  /* Overlap border */
  left: 0;
  width: 100%;
  height: 3px;
  background: #10b981;
  /* Green accent from mockup? Or Blue? Mockup looks darker or green line */
  background: #10b981;
  border-radius: 2px 2px 0 0;
}

.count-badge {
  background: #f1f5f9;
  color: #64748b;
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 12px;
}

.btn-reminder {
  background: #eff6ff;
  color: #4f46e5;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
}

.my-resumes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, 222px);
  /* Responsive wrapping, fixed cell size */
  gap: 20px;
  width: 100%;
  justify-content: flex-start !important;
  margin-top: 20px;
}

.samples-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, 222px);
  /* Responsive wrapping, fixed cell size */
  gap: 20px;
  justify-content: flex-start !important;
  margin-top: 20px;
}

.my-resume-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid #e2e8f0;
  transition: all 0.2s ease;
  position: relative;
  display: flex;
  flex-direction: column;
}

.my-resume-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

.resume-card-preview-area {
  height: 300px;
  /* Matched to template cards */
  background: white;
  /* Full Bleed */
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 0 !important;
}

.resume-mini-scale {
  transform: scale(0.28);
  /* Reverted to stable scale */
  transform-origin: top center;
  width: 794px;
  height: 1123px;
  background: white;
  pointer-events: none;
  box-shadow: none;
  margin-top: 0;
}

.resume-card-footer {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0) 100%);
  padding: 32px 12px 6px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.resume-card-footer h3 {
  font-size: 0.9rem;
  font-weight: 600;
  margin: 0;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.resume-card-footer p {
  font-size: 0.7rem;
  color: #cbd5e1;
  margin: 0;
}

.resume-card-actions {
  display: flex;
  justify-content: space-between;
  /* Split template name left, icons right */
  align-items: center;
  gap: 4px;
  margin-top: 4px;
  padding-top: 4px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.template-name-label {
  font-size: 0.75rem;
  color: #e2e8f0;
  font-weight: 500;
  margin: 0;
}

/* Group icons to the right to maintain their spacing */
.resume-card-actions-icons {
  display: flex;
  gap: 4px;
  align-items: center;
}

.resume-card-actions button {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: white;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
}

.resume-card-actions button:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

/* Edit Button (1st) - Glassy Blue */
.resume-card-actions-icons button:nth-child(1):hover {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
}

/* Download Button (2nd) - Glassy Green */
.resume-card-actions-icons button:nth-child(2):hover {
  background: rgba(34, 197, 94, 0.2);
  color: #4ade80;
}

.resume-card-actions button.text-red:hover {
  color: #fca5a5;
  background: rgba(239, 68, 68, 0.3);
}

/* --- Robust Dark Mode Text Visibility --- */
/* Target Admin Container (Dark) or Global Dark Classes */
body.dark-mode .dashboard-header-row h1,
body.dark-mode .dashboard-header-row p,
body.dark-mode .section-header h2,
.admin-dashboard-container .dashboard-header-row h1,
.admin-dashboard-container .dashboard-header-row p,
.admin-dashboard-container .section-header h2,
.dark .dashboard-header-row h1,
.dark .dashboard-header-row p,
.dark .section-header h2,
[data-theme='dark'] .dashboard-header-row h1,
[data-theme='dark'] .dashboard-header-row p,
[data-theme='dark'] .section-header h2 {
  color: #f1f5f9 !important;
}

/* Empty State Card */
.empty-state-card {
  text-align: left !important;
  /* PIN TO LEFT */
  padding: 0 !important;
  /* Zero padding for density */
  background: #cbd5e1 !important;
  background-color: #cbd5e1 !important;
  border: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  display: flex !important;
  justify-content: flex-start !important;
  /* PIN CONTENT TO LEFT EDGE */
}

.empty-state-card p {
  color: #475569;
  font-size: 1.1rem !important;
  /* Global size */
  font-weight: 400 !important;
  /* Regular weight */
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1.5;
  text-align: left !important;
  /* FORCE LEFT ALIGNMENT */
  white-space: nowrap !important;
  /* FORCE ONE ROW GLOBALLY */
  width: max-content !important;
  max-width: none !important;
  display: inline-block !important;
}

/* Ensure high visibility in both light/dark contexts */
.dark-mode .empty-state-card p,
[data-theme='dark'] .empty-state-card p {
  color: #ffffff !important;
  /* Pure white for dark mode */
  opacity: 0.9;
}

[data-theme='light'] .empty-state-card p {
  color: #1e293b !important;
}

/* --- Aggressive CV Dashboard Mobile/Tablet Polish (< 786px) --- */
@media (max-width: 786px) {
  .dashboard-header-row {
    margin-bottom: 24px !important;
    display: flex !important;
    flex-direction: column !important;
    /* STACK VERTICAL */
    justify-content: center !important;
    align-items: center !important;
    gap: 16px !important;
    text-align: center !important;
  }

  .dashboard-header-row h1 {
    font-size: 1.5rem !important;
    margin-bottom: 4px !important;
    white-space: normal !important;
    line-height: 1.2 !important;
    text-align: center !important;
  }

  .dashboard-header-row p {
    font-size: 0.9rem !important;
    line-height: 1.4 !important;
    color: #64748b;
    margin: 0 !important;
    max-width: 100% !important;
    text-align: center !important;
    white-space: normal !important;
  }

  /* ABSOLUTE CENTER-ALIGN GRIDS ON MOBILE/TABLET */
  .samples-grid,
  .my-resumes-grid {
    justify-content: center !important;
    gap: 16px !important;
  }

  /* EMPTY STATE: KEEP TEXT LEFT UNDER TABS */
  .empty-state-card {
    padding: 0 !important;
    margin: 12px 0 0 0 !important;
    /* Slight top gap from tabs */
    justify-content: flex-start !important;
    /* Force content to left edge */
    text-align: left !important;
    display: flex !important;
  }

  .empty-state-card p {
    font-size: 0.85rem !important;
    font-weight: 400 !important;
    color: #64748b !important;
    text-align: left !important;
    /* Align text to left */
    width: max-content !important;
    max-width: none !important;
    white-space: nowrap !important;
    /* Force one row */
    display: inline-block !important;
  }

  /* WRAP ONLY FOR TINY SCREENS AS LAST RESORT */
  @media (max-width: 380px) {
    .empty-state-card p {
      white-space: normal !important;
      width: 100% !important;
      text-align: left !important;
    }
  }
}



/* Guest Awareness Banner */
.guest-awareness-banner {
  background: #fffbeb;
  border-bottom: 1px solid #fde68a;
  padding: 10px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  z-index: 60;
  flex-shrink: 0;
}

.banner-content {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #92400e;
  font-size: 0.95rem;
  font-weight: 500;
}

.banner-content p {
  margin: 0;
}

.banner-auth-btns {
  display: flex;
  gap: 8px;
}

.banner-auth-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  background: #f59e0b;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.banner-auth-btn:hover {
  background: #d97706;
  transform: translateY(-1px);
}

.banner-auth-btn.secondary {
  background: white;
  color: #92400e;
  border: 1px solid #fde68a;
}

.banner-auth-btn.secondary:hover {
  background: #fffbeb;
  border-color: #f59e0b;
}

/* Final override: keep preview centered and scaled via CSS variable */
.mode-content .preview-scaler {
  transform: scale(var(--preview-scale, 1)) !important;
  transform-origin: top center !important;
  width: var(--preview-width, 806px) !important;
  height: var(--preview-height, 1123px) !important;
}

.mode-content .preview-scroll-area {
  align-items: center !important;
  padding: 0 !important;
  overflow: hidden !important;
}

.preview-slot {
  display: block;
}

.preview-scaler-live {
  display: block;
}

/* Final centering overrides for content mode */
.mode-content .preview-scroll-area {
  align-items: center !important;
}

.mode-content .preview-scaler {
  justify-content: center !important;
}

.mode-content .preview-slot {
  margin: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

@media (max-width: 640px) {
  .guest-awareness-banner {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 16px;
  }

  .banner-auth-btns {
    width: 100%;
  }

  .banner-auth-btn {
    flex: 1;
    justify-content: center;
  }
}

/* Modal Implementation Updates */
.delete-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.4);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: flex-start;
  /* key for scrolling */
  justify-content: center;
  z-index: 99999;
  padding: 24px;
  overflow-y: auto;
  /* enable scrolling */
  animation: fadeIn 0.2s ease-out;
}

.delete-modal-card {
  background: #cbd5e1 !important;
  background-color: #cbd5e1 !important;
  border-radius: 16px !important;
  width: 100% !important;
  max-width: 450px !important;
  padding: 24px !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  animation: slideUp 0.3s ease-out;
  margin: auto;
  /* centers vertically when space permits */
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.delete-modal-header {
  display: flex !important;
  align-items: flex-start !important;
  margin-bottom: 20px !important;
}

.delete-modal-body {
  margin-bottom: 28px !important;
}

.delete-modal-footer {
  display: flex !important;
  justify-content: flex-end !important;
  gap: 12px !important;
  flex-wrap: wrap !important;
  margin-top: 8px !important;
}

.delete-modal-footer button {
  white-space: nowrap !important;
  flex: 1 !important;
  /* Grow to fill space */
  min-width: 120px !important;
  /* Minimum comfortable width */
}

@media (max-width: 500px) {
  .delete-modal-card {
    padding: 20px !important;
    max-width: 95% !important;
  }

  .delete-modal-header {
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
  }

  .delete-modal-header>div:first-child {
    margin-right: 0 !important;
    margin-bottom: 12px !important;
  }

  .delete-modal-footer {
    flex-direction: column-reverse !important;
    /* Cancel at bottom */
    gap: 12px !important;
    margin-top: 16px !important;
    padding-bottom: 4px;
    /* extra space */
  }

  .delete-modal-footer button {
    width: 100% !important;
    min-width: 100% !important;
    /* Force full width */
    margin-left: 0 !important;
    height: 48px !important;
    flex: none !important;
    /* Disable flex scaling on mobile */
  }
}

/* Standardize scroller spacing: ZERO borders */
.mode-content .preview-scroll-area {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important; 
  justify-content: flex-start !important; 
  padding: 0 !important; /* CRITICAL: Must be 0 to remove top/bottom grey gaps */
  margin: 0 !important;
  background: #cbd5e1 !important;
  background-color: #cbd5e1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important; 
  scrollbar-gutter: stable both-edges;
}

.mode-content .preview-shell {
  padding: 0 !important;
  margin: 0 !important;
  max-width: 100% !important;
  overflow: hidden !important;
}

.mode-content .preview-slot {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

@media (max-width: 787px) {
  .editor-preview-pane {
    min-height: 500px !important; /* Reverted per user request */
  }

  .mode-content .preview-scroll-area {
    flex: 0 0 auto !important;
    height: auto !important;
    padding: 25px 0 60px 0 !important; /* Keep only vertical breathing room */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    align-items: center !important;
  }

  .mode-content .preview-shell {
    width: 100% !important;
    padding: 0 10px !important;
    box-sizing: border-box !important;
  }

  .mode-content .preview-footer-minimal {
    position: static !important; /* NO LONGER PINNED */
    margin: 15px auto !important; /* Centered with small gap from CV */
  }

}

/* Base: footer pill spacing (desktop/tablet default) */
.mode-content .preview-footer-minimal {
  position: static !important; /* Follow content by default */
  margin: 20px auto !important;
}

/* Desktop: avoid clipping the top edge; tighten spacing via footer instead */
@media (min-width: 787px) {
  .mode-content .preview-scroll-area {
    padding-top: 0 !important;
  }

  .mode-content .preview-slot {
    margin-top: 0 !important;
  }

  /* Reduce space below CV for tablets and smaller desktops */
  .mode-content .preview-footer-minimal {
    margin-top: 15px !important; 
    margin-bottom: 30px !important;
  }
 
  .mode-content .preview-scroll-area {
    padding-bottom: 0 !important;
  }

  .mode-content .editor-preview-pane {
    position: relative !important;
  }

  .mode-content .preview-footer-minimal {
    position: absolute !important; /* Pin to viewport bottom */
    bottom: 12px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    margin: 0 !important;
    z-index: 100 !important;
    background: rgba(30, 41, 59, 0.95) !important;
  }
}

/* Footer pill position: mobile adjustments */
@media (max-width: 787px) {
  .mode-content .preview-footer-minimal {
    position: static !important; 
  }
}

@media (max-width: 500px) {
  .mode-content .preview-shell {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  /* Cancel older mobile cap that forced slot to 100% width and clipped the CV */
  .mode-content .preview-slot {
    max-width: none !important;
  }
}

/* ---------------------------------------------------------- */
/* Final isolated live-preview rules (content mode only)      */
/* This block intentionally comes last to beat legacy rules.  */
/* ---------------------------------------------------------- */
.mode-content .preview-scroll-area-live {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: flex-start !important;
  margin: 0 !important;
  padding: 0 !important;
  background: #cbd5e1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-gutter: stable both-edges;
}

.mode-content .preview-shell-live {
  width: 100% !important;
  max-width: 100% !important;
  display: flex !important;
  justify-content: center !important;
  align-items: flex-start !important;
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box !important;
  overflow: hidden !important;
}

.mode-content .preview-slot-live {
  margin: 0 !important;
  box-sizing: border-box !important;
  overflow: hidden !important;
  max-width: none !important;
  flex: 0 0 auto !important;
}

@media (max-width: 787px) {
  .mode-content .preview-scroll-area-live {
    padding: 25px 0 60px 0 !important;
  }

  .mode-content .preview-shell-live {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }
}

@media (max-width: 500px) {
  .mode-content .preview-shell-live {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }
}

/* Tablet/content mode only (787-992): keep page pill under the CV */
@media (min-width: 787px) and (max-width: 992px) {
  .mode-content .preview-scroll-area-live {
    padding-bottom: 24px !important;
  }

  .mode-content .preview-footer-minimal {
    position: static !important;
    left: auto !important;
    bottom: auto !important;
    transform: none !important;
    margin: 16px auto 28px !important;
    z-index: 100 !important;
  }
}

/* Desktop/content mode (>=993): move page pill a bit lower */
@media (min-width: 993px) {
  .mode-content .editor-main-split {
    overflow: hidden !important;
  }

  .mode-content .editor-preview-pane {
    position: relative !important;
    overflow: hidden !important;
  }

  .mode-content .preview-scroll-area-live {
    position: relative !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }

  .mode-content .preview-footer-minimal {
    position: absolute !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    bottom: 6px !important;
    margin: 0 !important;
    z-index: 1000 !important;
  }
}


/* USER REQUEST: Push page number down on desktop > 992px */
@media (min-width: 992px) {
  .preview-footer-minimal {
    bottom: 8px !important;
  }
}